version: '3.8'

services:
  israeli_bank_importer:
    image: israeli-bank-importer:latest
    container_name: israeli_bank_importer
    restart: always
    cap_add:
      - SYS_ADMIN
    environment:
      - TZ=Asia/Jerusalem
      # Cron schedule: run every 8 hours (at midnight, 8am, 4pm)
      # Remove SCHEDULE to run once and exit
      - SCHEDULE=0 */8 * * *
    volumes:
      - ./config.json:/app/config.json:ro
      - ./data:/app/data
      - ./cache:/app/cache
      - ./chrome-data:/app/chrome-data
    # Optional: only enable if you have an actual_server in the same compose stack
    # depends_on:
    #   - actual_server
